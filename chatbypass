local ChatBar = game:GetService("Players").LocalPlayer.PlayerGui.Chat.Frame.ChatBarParentFrame.Frame.BoxFrame.Frame.ChatBar
local ChatService = game:GetService("Chat")

local Chat = {}

for idx, val in pairs(game:GetService("ReplicatedStorage").DefaultChatSystemChatEvents:GetChildren()) do
    if val:IsA("RemoteEvent") then
        Chat[val.Name] = val
    end
end


-- íŠ¹ìˆ˜ ë¬¸ìë¡œ ëŒ€ì²´í•  í…ìŠ¤íŠ¸ ë§¤í•‘
local replaceMap = {
    ["a"] = "ğŸ‡¦ ",
    ["b"] = "ğŸ‡§ ",
    ["c"] = "ğŸ‡¨ ",
    ["d"] = "ğŸ‡© ",
    ["e"] = "ğŸ‡ª ",
    ["f"] = "ğŸ‡« ",
    ["g"] = "ğŸ‡¬ ",
    ["h"] = "ğŸ‡­ ",
    ["i"] = "ğŸ‡® ",
    ["j"] = "ğŸ‡¯ ",
    ["k"] = "ğŸ‡° ",
    ["l"] = "ğŸ‡± ",
    ["m"] = "ğŸ‡² ",
    ["n"] = "ğŸ‡³ ",
    ["o"] = "ğŸ‡´ ",
    ["p"] = "ğŸ‡µ ",
    ["q"] = "ğŸ‡¶ ",
    ["r"] = "ğŸ‡· ",
    ["s"] = "ğŸ‡¸ ",
    ["t"] = "ğŸ‡¹ ",
    ["u"] = "ğŸ‡º ",
    ["v"] = "ğŸ‡» ",
    ["w"] = "ğŸ‡¼ ",
    ["x"] = "ğŸ‡½ ",
    ["y"] = "ğŸ‡¾ ",
    ["z"] = "ğŸ‡¿ ",
    ["1"] = "Â¹ ",
    ["2"] = "Â² ",
    ["3"] = "Â³ ",
    ["4"] = "â´ ",
    ["5"] = "âµ ",
    ["6"] = "â¶ ",
    ["7"] = "â· ",
    ["8"] = "â¸ ",
    ["9"] = "â¹ ",
    ["0"] = "â° ",
    [" "] = "   ", -- ê³µë°± ë¬¸ìëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€
}

ğŸ‘†ğŸ¥µâ¤ï¸ğŸ‘‰ğŸ‘Œâ¤ï¸ğŸ¥µğŸ‘†

-- ì±„íŒ… ì…ë ¥ ë³€í™˜ í•¨ìˆ˜
local function replaceText(inputText)
    local replacedText = ""
    for i = 1, #inputText do
        local char = string.lower(inputText:sub(i, i)) -- ì…ë ¥ëœ ë¬¸ìë¥¼ ì†Œë¬¸ìë¡œ ë³€í™˜í•˜ì—¬ ì‚¬ìš©
        if replaceMap[char] then
            replacedText = replacedText .. replaceMap[char]
        else
            replacedText = replacedText .. char
        end
    end
    return replacedText
end

-- ì±„íŒ… ì…ë ¥ ì´ë²¤íŠ¸ ê°ì§€ ë° ì²˜ë¦¬
ChatBar.FocusLost:Connect(function(enterPressed)
    if enterPressed then
        local originalText = ChatBar.Text
        local newText = replaceText(originalText)
        --ChatService:Chat(newText)
        Chat["SayMessageRequest"]:FireServer( newText,"All")
        ChatBar.Text = "" -- ì…ë ¥ì°½ ë¹„ìš°ê¸°
    end
end)
